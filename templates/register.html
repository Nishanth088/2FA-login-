<!DOCTYPE html>
<html>
<head>
  <title>Register</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <h1>Create Account</h1>
    <ul class="messages">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, msg in messages %}
          <li class="{{ category }}">{{ msg }}</li>
        {% endfor %}
      {% endwith %}
    </ul>
    <form method="POST">
      <input type="email" name="email" placeholder="Enter email" required>
      <input type="password" name="password" placeholder="Enter password" required>
      <input type="password" name="confirm_password" placeholder="Confirm password" required>
      <button type="submit">Register</button>
    </form>
    <a href="{{ url_for('login') }}">Already have an account? Login</a>
  </div>

  <script>
    // Basic client-side check
    const form = document.querySelector("form");
    form.addEventListener("submit", function (e) {
      const password = form.querySelector("input[name='password']").value;
      const confirm = form.querySelector("input[name='confirm_password']").value;

      if (password !== confirm) {
        e.preventDefault();
        alert("Passwords do not match!");
      }
    });
  </script>
</body>
</html>
